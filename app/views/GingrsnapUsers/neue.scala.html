@(
  fullname: Option[String] = None,
  location: Option[String] = None,
  imgUrl: Option[String] = None,
  twUserId: Option[Long] = None,
  twAccessToken: Option[String] = None,
  twAccessTokenSecret: Option[String] = None
)(
  implicit
  params: play.mvc.Scope.Params,
  flash: play.mvc.Scope.Flash,
  errors: Map[String, play.data.validation.Error]
)

@import controllers._

@main("Create an account") {
  <div class="row">
    <div class="span8">
      <h1>Create an identity on Gingrsnap</h1>
      <form id="signup-form" class="form-stacked" method="POST">
        @twUserId.map { twUserId =>
          <input name="twUserId" type="hidden" value="@twUserId" />
        }
        @twAccessToken.map { twAccessToken =>
          <input name="twAccessToken" type="hidden" value="@twAccessToken" />
        }
        @twAccessTokenSecret.map { twAccessTokenSecret =>
          <input name="twAccessTokenSecret" type="hidden" value="@twAccessTokenSecret" />
        }

        @imgUrl.map { imgUrl =>
          <img src="@imgUrl" />
        }
        <label for="fullname">Name</label>
        <input class="medium span5" id="fullname" name="fullname" type="text" value="@fullname" />

        <label for="emailAddr">Email Address</label>
        <input class="medium span5" id="emailAddr" name="emailAddr" type="text" />

        <label for="password">Password</label>
        <input class="medium span5" id="password" name="password" type="password" />

        <label for="confirmpassword">Confirm Password</label>
        <input class="medium span5" id="confirmpassword" name="confirmpassword" type="password" />

        <div class="form-actions">
          <input class="btn btn-primary" type="submit" value="Submit"/>
        </div>
      </form>
    </div>

    <div class="span4">
      <div class="well">
        @if(twAccessToken.isEmpty && twAccessTokenSecret.isEmpty) {
          <a class="btn btn-twitter" href="@action(OAuth.connect("twitter"))">
            <i class="icon-twitter-small"></i>Connect with Twitter&raquo;
          </a>
          <p>Connecting will let you sign into Gingrsnap with a single click using your Twitter credentials.</p>
        } else {
          <p>
            <a class="btn" href="@action(GingrsnapUsers.neue())">Don't connect with Twitter</a>
          </p>
        }
      </div>
    </div>
  </div>
}

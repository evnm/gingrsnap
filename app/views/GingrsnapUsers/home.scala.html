@(
  user: models.GingrsnapUser,
  usersRecipes: Seq[models.Recipe],
  recipeFeed: Seq[(models.Recipe, models.GingrsnapUser)]
)(
  implicit
  params: play.mvc.Scope.Params,
  flash: play.mvc.Scope.Flash,
  errors: Map[String, play.data.validation.Error],
  renderArgs: play.mvc.Scope.RenderArgs
)

@import controllers.Recipes

@main(title = "Your dashboard") {
  <div class="row">
    <div class="span10">
      <h1>Most recent recipes</h1>
      @views.common.html.recipeFeed(recipeFeed)
    </div>

    <div class="span6">
      <div class="well">
        <h2>Your recipes</h2>
        <a class="btn primary new-recipe" href="@action(Recipes.neue())">Create a new recipe</a>
        @if(usersRecipes.nonEmpty) {
          <ul>
            @usersRecipes.map { recipe =>
              <li>
                <a href="@action(Recipes.show(recipe.authorId, recipe.slug))">@recipe.title</a>
                @if(recipe.publishedAt.isEmpty) {
                  <span class="label">Draft</span>
                }
              </li>
            }
          </ul>
        } else {
          <p>You don't have any recipes yet.</p>
        }
      </div>
    </div>
  </div>
}
